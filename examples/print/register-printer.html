<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Spark Sample Application - My Drive</title>

	<!-- Bootstrap core CSS -->
	<link href="../../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

	<!-- Custom styles -->
	<link href="../../assets/css/styleOld.css" rel="stylesheet">

	<script type="text/javascript" charset="utf-8" src="../../assets/scripts/config.js"></script>
	<script type="text/javascript" charset="utf-8" src="../../vendor/spark/spark-config.js"></script>
	<script type="text/javascript" charset="utf-8" src="../../vendor/spark/spark-auth.js"></script>

	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script type="text/javascript" charset="utf-8" src="../../vendor/bootstrap/js/bootstrap.min.js"></script>

	<script type="text/javascript" charset="utf-8" src="../../plugins/broadcaster/eventBroadcaster.js"></script>

</head>

<body>

<div class="logged-in-container">
	<div class="container">




		<div class="tab-content">
			<div class="tab-pane fade active in" id="register">
				<form id="register-printer-form">
					<h1>Register Printer</h1>
					<div class="form-group">
						<label for="inputToken">Printer Token (should get this from the printer simulator)</label>
						<input type="text" class="form-control" id="inputToken" placeholder="Printer Token" required>
					</div>
					<div class="form-group">
						<label for="inputName">Printer name</label>
						<input type="text" class="form-control" id="inputName" placeholder="Printer name"
						       required>
					</div>


					<div class="modal-footer">
						<a href="#" class="btn" onclick="eventBroadCaster.broadcastEvent('registerIframe.cancel')">Cancel</a>
						<input class="btn btn-primary" type="submit" value="Add Printer" id="submit">
					</div>
				</form>
			</div>


			<div class="tab-pane fade" id="settings">
				<h2>Settings Content Goes Here</h2>
			</div>
		</div>


		<div class="footer">
			<p>&copy; Spark Sample Application 2015</p>
		</div>

	</div></div>
<!-- /container -->


<script>
	$(document).ready(function(){
		ajaxCallListenerFromIframe();
	});

	$("#register-printer-form").on('submit', function (e) {
		e.preventDefault();

		var token = $('#inputToken').val();
		var printerName = $('#inputName').val();
		sparkPrint.registerPrinter(token,printerName,function(response){
					var printerId = response.printer_id;
					//logger("#register-printer-form #inputLog","Registered Successfully! printerId="+printerId);
					eventBroadCaster.broadcastEvent("registerIframe.add")
				},
				function(response){
					//logger("#register-printer-form #inputLog",response);

				});
	});

</script>

<script type="text/javascript" charset="utf-8" src="../../plugins/ajaxlogger/ajaxCallListener.js"></script>

<script type="text/javascript" charset="utf-8" src="../../vendor/spark/utilities.js"></script>
<!--script type="text/javascript" charset="utf-8" src="../../vendor/spark/spark-drive.js"></script-->

<!--script type="text/javascript" charset="utf-8" src="examples/drive/index.js"></script-->
<script type="text/javascript" charset="utf-8" src="../../vendor/spark/spark-printer.js"></script>

<script type="text/javascript" charset="utf-8" src="../../plugins/login/login.js"></script>



</body>
</html>
